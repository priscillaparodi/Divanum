function HttpReq(e,t,r,n){this.url=void 0,this.metodo=void 0,this.xmlHttpRequest=void 0,this.variaveisCache=void 0,this.construtor=function(e,t){return this.metodo=e,this.url=t,this.xmlHttpRequest=new XMLHttpRequest,r||(r=function(e){console.log("Sucesso:"+e)}),n||(n=function(e){console.log("erro")}),!0},this.enviar=function(i,o,a,s){return"undefined"==typeof i?i="":this.variaveisCache=i,"undefined"==typeof o&&(o=!1),"undefined"==typeof a&&(a=!0),("undefined"==typeof s||1>s)&&(s=3e4),this.xmlHttpRequest.onreadystatechange=function(){if(4==this.readyState&&200==this.status)r(this.response),a&&carregando.fechar();else if(4==this.readyState&&200!=this.status)if(401==this.status){alerta.abrirErro("Esse acesso precisa ser autenticado.")}else 404==this.status?(alerta.abrirErro("O serviço solicitado não foi encontrado.",8e3),a&&carregando.fechar(),typeof n==typeof Function&&n()):403==this.status?(alerta.abrirErro("Requisição recusada. Tente novamente mais tarde."),a&&carregando.fechar(),typeof n==typeof Function&&n()):(console.log("erro desconhecido"),console.log(this.status+" : "+this.readyState),carregando.terminar(n))},"post"!=this.metodo?(alert("Método inválido: "+this.metodo),!1):(this.xmlHttpRequest.open("POST",this.url,!0),this.xmlHttpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=utf-8"),this.xmlHttpRequest.timeout=s,this.xmlHttpRequest.send(i+("undefined"!=window.localStorage.getItem("idUnidade")&&window.localStorage.getItem("idUnidade")>0?"&idUnidade="+window.localStorage.getItem("idUnidade"):"")),a&&carregando.abrir(s,"Verifique a sua conexão com a Internet e tente novamente."),!0)},this.construtor(e,t)}